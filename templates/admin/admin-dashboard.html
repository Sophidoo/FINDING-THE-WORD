<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Find the Word</title>
    <link rel="stylesheet" href="/static/css/global.css">
    <link rel="stylesheet" href="/static/css/admin.css">
</head>
<body>
    <div class="admin-layout">
        <!-- Mobile Sidebar Toggle -->
        <button class="mobile-sidebar-toggle" id="sidebarToggle">â˜°</button>
        
        <!-- Sidebar -->
        <aside class="admin-sidebar" id="adminSidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">F</div>
                <div>
                    <div class="sidebar-title">Find the Word</div>
                    <div class="sidebar-subtitle">Admin Panel</div>
                </div>
            </div>
            
            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Main</div>
                    <a href="admin-dashboard.html" class="sidebar-link active">
                        <span class="sidebar-link-icon">ğŸ“Š</span>
                        Dashboard
                    </a>
                </div>
                
                <div class="nav-section">
                    <div class="nav-section-title">Management</div>
                    <a href="admin-words.html" class="sidebar-link">
                        <span class="sidebar-link-icon">ğŸ“</span>
                        Words
                    </a>
                    <a href="admin-users.html" class="sidebar-link">
                        <span class="sidebar-link-icon">ğŸ‘¥</span>
                        Users
                    </a>
                    <a href="admin-feedback.html" class="sidebar-link">
                        <span class="sidebar-link-icon">ğŸ’¬</span>
                        Feedback
                    </a>
                </div>
            </nav>
            
            <div class="sidebar-footer">
                <a href="login.html" class="sidebar-footer-link">
                    <span class="sidebar-link-icon">ğŸšª</span>
                    Logout
                </a>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="admin-main">
            <!-- Header -->
            <header class="admin-header">
                <div class="admin-header-left">
                    <h1>ğŸ“Š Dashboard Overview</h1>
                    <p>Welcome back, Admin! Here's what's happening.</p>
                </div>
                <div class="admin-header-right">
                    <div class="admin-user-badge">
                        <div class="admin-avatar">A</div>
                        <span class="admin-name">Admin</span>
                    </div>
                </div>
            </header>
            
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card primary">
                    <div class="stat-card-icon">ğŸ“</div>
                    <div class="stat-card-value" id="totalWords">0</div>
                    <div class="stat-card-label">Total Words</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon">ğŸ‘¥</div>
                    <div class="stat-card-value" id="totalUsers">0</div>
                    <div class="stat-card-label">Total Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon">ğŸ’¬</div>
                    <div class="stat-card-value" id="totalFeedback">0</div>
                    <div class="stat-card-label">Feedback</div>
                </div>
                <div class="stat-card">
                    <div class="stat-card-icon">ğŸ”¥</div>
                    <div class="stat-card-value" id="activeGames">0</div>
                    <div class="stat-card-label">Active Today</div>
                </div>
            </div>
            
            <!-- Quick Links -->
            <div class="admin-panel">
                <div class="panel-header">
                    <h2>âš¡ Quick Actions</h2>
                </div>
                <div class="panel-body">
                    <div class="quick-links-grid">
                        <a href="admin-words.html" class="quick-link-card">
                            <span class="quick-link-icon">â•</span>
                            <span class="quick-link-label">Add New Word</span>
                        </a>
                        <a href="admin-users.html" class="quick-link-card">
                            <span class="quick-link-icon">ğŸ‘¤</span>
                            <span class="quick-link-label">Manage Users</span>
                        </a>
                        <a href="admin-feedback.html" class="quick-link-card">
                            <span class="quick-link-icon">ğŸ“¨</span>
                            <span class="quick-link-label">View Feedback</span>
                        </a>
                        <a href="admin-words.html" class="quick-link-card">
                            <span class="quick-link-icon">ğŸ“š</span>
                            <span class="quick-link-label">Word Library</span>
                        </a>
                    </div>
                </div>
            </div>
            
            <!-- Words by Difficulty -->
            <div class="admin-panel">
                <div class="panel-header">
                    <h2>ğŸ“ˆ Words by Difficulty</h2>
                </div>
                <div class="panel-body">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-card-icon">ğŸŸ¢</div>
                            <div class="stat-card-value" id="easyWords">0</div>
                            <div class="stat-card-label">Easy Words</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon">ğŸŸ¡</div>
                            <div class="stat-card-value" id="mediumWords">0</div>
                            <div class="stat-card-label">Medium Words</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-card-icon">ğŸ”´</div>
                            <div class="stat-card-value" id="hardWords">0</div>
                            <div class="stat-card-label">Hard Words</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Recent Activity -->
            <div class="admin-panel">
                <div class="panel-header">
                    <h2>ğŸ• Recent Feedback</h2>
                    <a href="admin-feedback.html" class="btn btn-secondary btn-sm">View All</a>
                </div>
                <div class="panel-body" id="recentFeedback">
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“­</div>
                        <h3>No Recent Feedback</h3>
                        <p>Feedback from users will appear here.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Sample data initialization
        function initializeSampleData() {
            // Words data
            if (!localStorage.getItem('adminWords')) {
                const sampleWords = [
                    { id: 1, word: 'CAT', definition: 'A small domesticated carnivorous mammal with soft fur.', example: 'The cat purred contentedly.', trivia: 'Cats spend 70% of their lives sleeping.', category: 'animals', difficulty: 'easy' },
                    { id: 2, word: 'DOG', definition: 'A domesticated carnivorous mammal with a barking voice.', example: 'The dog wagged its tail excitedly.', trivia: 'Dogs can understand up to 250 words.', category: 'animals', difficulty: 'easy' },
                    { id: 3, word: 'FISH', definition: 'A limbless cold-blooded vertebrate animal with gills.', example: 'The fish swam in the coral reef.', trivia: 'Some fish can recognize their owner\'s face!', category: 'animals', difficulty: 'easy' },
                    { id: 4, word: 'BIRD', definition: 'A warm-blooded egg-laying vertebrate with feathers.', example: 'The bird built its nest in the tree.', trivia: 'The smallest bird is the bee hummingbird.', category: 'animals', difficulty: 'easy' },
                    { id: 5, word: 'FROG', definition: 'A tailless amphibian with a short squat body.', example: 'The frog jumped from lily pad to lily pad.', trivia: 'Frogs absorb water through their skin.', category: 'animals', difficulty: 'easy' },
                    { id: 6, word: 'TIGER', definition: 'A very large solitary cat with yellow-brown coat striped with black.', example: 'The tiger stalked through the jungle.', trivia: 'Each tiger\'s stripe pattern is unique.', category: 'animals', difficulty: 'medium' },
                    { id: 7, word: 'EAGLE', definition: 'A large bird of prey with a massive hooked bill.', example: 'The eagle soared high above the mountains.', trivia: 'Eagles can see up to 8 times farther than humans.', category: 'animals', difficulty: 'medium' },
                    { id: 8, word: 'SHARK', definition: 'A long-bodied marine fish with a cartilaginous skeleton.', example: 'The shark glided through the ocean.', trivia: 'Sharks have been around for 400 million years.', category: 'animals', difficulty: 'medium' },
                    { id: 9, word: 'ELEPHANT', definition: 'A very large mammal with a trunk and tusks.', example: 'The elephant used its trunk to spray water.', trivia: 'Elephants are the only mammals that can\'t jump.', category: 'animals', difficulty: 'hard' },
                    { id: 10, word: 'DOLPHIN', definition: 'A small whale with a beaklike snout.', example: 'The dolphin leaped gracefully from the water.', trivia: 'Dolphins have names for each other!', category: 'animals', difficulty: 'hard' },
                    { id: 11, word: 'GIRAFFE', definition: 'A large African mammal with a very long neck.', example: 'The giraffe reached the leaves at the top.', trivia: 'Giraffes have the same number of neck bones as humans.', category: 'animals', difficulty: 'hard' },
                    { id: 12, word: 'COMPUTER', definition: 'An electronic device for storing and processing data.', example: 'I use my computer for work every day.', trivia: 'The first computer weighed over 27 tons!', category: 'technology', difficulty: 'hard' },
                    { id: 13, word: 'SUN', definition: 'The star around which the earth orbits.', example: 'The sun rose over the mountains.', trivia: 'The sun is about 4.6 billion years old.', category: 'nature', difficulty: 'easy' },
                    { id: 14, word: 'MOON', definition: 'The natural satellite of the earth.', example: 'The moon shone brightly in the night sky.', trivia: 'The moon is slowly drifting away from Earth.', category: 'nature', difficulty: 'easy' },
                    { id: 15, word: 'OCEAN', definition: 'A very large expanse of sea.', example: 'We watched the sunset over the ocean.', trivia: 'The ocean covers 71% of Earth\'s surface.', category: 'nature', difficulty: 'medium' }
                ];
                localStorage.setItem('adminWords', JSON.stringify(sampleWords));
            }
            
            // Users data
            if (!localStorage.getItem('adminUsers')) {
                const sampleUsers = [
                    { id: 1, username: 'Player1', email: 'player1@example.com', role: 'user', totalGames: 25, bestScore: 1500, joinedDate: '2024-01-15' },
                    { id: 2, username: 'GameMaster', email: 'gamemaster@example.com', role: 'admin', totalGames: 100, bestScore: 3500, joinedDate: '2024-01-01' },
                    { id: 3, username: 'WordHunter', email: 'wordhunter@example.com', role: 'user', totalGames: 50, bestScore: 2200, joinedDate: '2024-02-10' },
                    { id: 4, username: 'PuzzlePro', email: 'puzzlepro@example.com', role: 'user', totalGames: 75, bestScore: 2800, joinedDate: '2024-02-20' },
                    { id: 5, username: 'CasualGamer', email: 'casual@example.com', role: 'user', totalGames: 10, bestScore: 800, joinedDate: '2024-03-01' }
                ];
                localStorage.setItem('adminUsers', JSON.stringify(sampleUsers));
            }
            
            // Feedback data
            if (!localStorage.getItem('adminFeedback')) {
                const sampleFeedback = [
                    { id: 1, name: 'John Doe', email: 'john@example.com', subject: 'Great Game!', message: 'I love playing this game. The word puzzles are challenging and fun!', submittedDate: '2024-12-01', status: 'unread' },
                    { id: 2, name: 'Sarah Smith', email: 'sarah@example.com', subject: 'Feature Request', message: 'Would be great to have a multiplayer mode where we can compete with friends.', submittedDate: '2024-12-05', status: 'read' },
                    { id: 3, name: 'Mike Johnson', email: 'mike@example.com', subject: 'Bug Report', message: 'Sometimes the timer doesn\'t stop when I find all words. Please fix!', submittedDate: '2024-12-08', status: 'unread' }
                ];
                localStorage.setItem('adminFeedback', JSON.stringify(sampleFeedback));
            }
        }
        
        // Load dashboard stats
        function loadDashboardStats() {
            const words = JSON.parse(localStorage.getItem('adminWords')) || [];
            const users = JSON.parse(localStorage.getItem('adminUsers')) || [];
            const feedback = JSON.parse(localStorage.getItem('adminFeedback')) || [];
            
            // Update stats
            document.getElementById('totalWords').textContent = words.length;
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('totalFeedback').textContent = feedback.length;
            document.getElementById('activeGames').textContent = Math.floor(Math.random() * 20) + 5; // Simulated
            
            // Words by difficulty
            const easyWords = words.filter(w => w.difficulty === 'easy').length;
            const mediumWords = words.filter(w => w.difficulty === 'medium').length;
            const hardWords = words.filter(w => w.difficulty === 'hard').length;
            
            document.getElementById('easyWords').textContent = easyWords;
            document.getElementById('mediumWords').textContent = mediumWords;
            document.getElementById('hardWords').textContent = hardWords;
            
            // Load recent feedback
            loadRecentFeedback(feedback);
        }
        
        // Load recent feedback
        function loadRecentFeedback(feedback) {
            const container = document.getElementById('recentFeedback');
            
            if (feedback.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">ğŸ“­</div>
                        <h3>No Recent Feedback</h3>
                        <p>Feedback from users will appear here.</p>
                    </div>
                `;
                return;
            }
            
            // Show last 3 feedback items
            const recentFeedback = feedback.slice(-3).reverse();
            container.innerHTML = recentFeedback.map(fb => `
                <div class="feedback-card">
                    <div class="feedback-header">
                        <div class="feedback-user">
                            <h4>${fb.name}</h4>
                            <p>${fb.email}</p>
                        </div>
                        <div class="feedback-meta">
                            <span class="badge ${fb.status === 'unread' ? 'badge-unread' : 'badge-read'}">${fb.status}</span>
                            <div class="feedback-date">${fb.submittedDate}</div>
                        </div>
                    </div>
                    <div class="feedback-subject">${fb.subject}</div>
                    <div class="feedback-message">${fb.message}</div>
                </div>
            `).join('');
        }
        
        // Sidebar toggle for mobile
        function initSidebarToggle() {
            const toggle = document.getElementById('sidebarToggle');
            const sidebar = document.getElementById('adminSidebar');
            
            toggle.addEventListener('click', () => {
                sidebar.classList.toggle('active');
                toggle.textContent = sidebar.classList.contains('active') ? 'âœ•' : 'â˜°';
            });
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            initializeSampleData();
            loadDashboardStats();
            initSidebarToggle();
        });
    </script>
</body>
</html>
